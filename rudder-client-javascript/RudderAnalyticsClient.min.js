function generateUUID(){var e=new Date.getTime();typeof performance!=='undefined'&&typeof performance.now==='function'&&(e+=performance.now());return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(r){var t=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(r==='x'?t:t&3|8).toString(16)})}var MessageType={TRACK:"track",PAGE:"page",SCREEN:"screen",IDENTIFY:"identify"},ECommerceEvents={PRODUCTS_SEARCHED:"Products Searched",PRODUCT_LIST_VIEWED:"Product List Viewed",PRODUCT_LIST_FILTERED:"Product List Filtered",PROMOTION_VIEWED:"Promotion Viewed",PROMOTION_CLICKED:"Promotion Clicked",PRODUCT_CLICKED:"Product Clicked",PRODUCT_VIEWED:"Product Viewed",PRODUCT_ADDED:"Product Added",PRODUCT_REMOVED:"Product Removed",CART_VIEWED:"Cart Viewed",CHECKOUT_STARTED:"Checkout Started",CHECKOUT_STEP_VIEWED:"Checkout Step Viewed",CHECKOUT_STEP_COMPLETED:"Checkout Step Completed",PAYMENT_INFO_ENTERED:"Payment Info Entered",ORDER_UPDATED:"Order Updated",ORDER_COMPLETED:"Order Completed",ORDER_REFUNDED:"Order Refunded",ORDER_CANCELLED:"Order Cancelled",COUPON_ENTERED:"Coupon Entered",COUPON_APPLIED:"Coupon Applied",COUPON_DENIED:"Coupon Denied",COUPON_REMOVED:"Coupon Removed",PRODUCT_ADDED_TO_WISHLIST:"Product Added to Wishlist",PRODUCT_REMOVED_FROM_WISHLIST:"Product Removed from Wishlist",WISH_LIST_PRODUCT_ADDED_TO_CART:"Wishlist Product Added to Cart",PRODUCT_SHARED:"Product Shared",CART_SHARED:"Cart Shared",PRODUCT_REVIEWED:"Product Reviewed"},RudderIntegrationPlatform={RUDDERLABS:"rudderlabs",GA:"ga",AMPLITUDE:"amplitude"};let BASE_URL="";var Analytics=(function(){var e;function r(){return{track:function(e){e.rl_message&&(e.rl_message.validateFor(MessageType.TRACK),e.rl_message.rl_type=MessageType.TRACK,addToFlushQueue(e))},page:function(e){e.rl_message&&(e.rl_message.validateFor(MessageType.PAGE),e.rl_message.rl_type=MessageType.PAGE,addToFlushQueue(e))},screen:function(e){e.rl_message&&(e.rl_message.validateFor(MessageType.SCREEN),e.rl_message.rl_type=MessageType.SCREEN,addToFlushQueue(e))}}}return{getInstance:function(t,n = 10,l = BASE_URL,s = !0){if(!e){if(!t||!t.applicationContext){throw new Error("Application context cannot be null")}e=r();e.context=t;e.flushQueueSize=n;e.endPointUri=l;e.shouldCache=s}return e}}})();class RudderPayload{constructor(){var e=new Date.toISOString(),r=e.split('T')[0],t=e.split('T')[1].split('Z')[0].split('.')[0],n=e.split('Z')[0].split('.')[1];this.sent_at=r+" "+t+"+"+n;this.batch=null}}class RudderElement{constructor(){this.rl_message=new RudderMessage}setType(e){this.rl_message.rl_type=e}setProperty(e){this.rl_message.rl_properties=rudderProoperty}setUserId(e){this.rl_message.rl_user_id=e}setEventName(e){this.rl_message.rl_event=e}updateTraits(e){this.rl_message.rl_context.rl_traits=e}addIntegrationProps(e,r,t){this.rl_message.rl_integrations.set(e,r);r&&this.rl_message.rl_destination_properties.set(e,t)}}class RudderElementBuilder{constructor(){this.rudderProperty=null;this.event=null;this.userId=null;this.channel=null}setProperty(e){this.rudderProperty=e;return this}setPropertyMap(e){this.rudderProperty||(this.rudderProperty=new RudderProperty);this.rudderProperty.addProperties(e);return this}setPropertyBuilder(e){this.rudderProperty=e.build();return this}setEvent(e){this.event=e;return this}setUserId(e){this.userId=e;return this}setChannel(e){this.channel=e;return this}build(){element=new RudderElement;element.setUserId(this.userId);element.setEventName(this.event);element.setProperty(this.rudderProperty);return element}}class RudderMessage{constructor(){this.rl_channel="web";this.rl_context=null;this.rl_type=null;this.rl_action=null;this.rl_message_id=generateUUID().toString();this.rl_timestamp=new Date.getTime();this.rl_anonymous_id=null;this.rl_user_id=null;this.rl_event=null;this.rl_properties=new Map;this.rl_integrations=new Map;this.rl_destination_properties=new Map}getProperty(e){return this.rl_properties.get(e)}addProperty(e,r){this.rl_properties.set(e,r)}validateFor(e){if(!this.rl_properties){throw new Error("Key rl_properties is required")}switch(e){case MessageType.TRACK:if(!this.rl_event){throw new Error("Key rl_event is required for track event")};if(this.rl_event in Object.values(ECommerceEvents)){switch(rl_event){case ECommerceEvents.CHECKOUT_STEP_VIEWED:;case ECommerceEvents.CHECKOUT_STEP_COMPLETED:;case ECommerceEvents.PAYMENT_INFO_ENTERED:checkForKey("checkout_id");checkForKey("step");break;case ECommerceEvents.PROMOTION_VIEWED:;case ECommerceEvents.PROMOTION_CLICKED:checkForKey("promotion_id");break;case ECommerceEvents.ORDER_REFUNDED:checkForKey("order_id");break;default:}}else if(!this.rl_properties.has("category")||!this.rl_properties.get("category")){throw new Error("Key 'category' is required in rl_properties")};break;case MessageType.PAGE:break;case MessageType.SCREEN:if(!this.rl_properties.has("name")||!this.rl_properties.get("name")){throw new Error("Key 'name' is required in rl_properties")};break}}checkForKey(e){if(!this.rl_properties.has(e)||!this.rl_properties.get(e)){throw new Error("Key '"+e+"' is required in rl_properties")}}addIntegration(e){this.rl_integrations.push(e)}addIntegrations(e){this.rl_integrations.pushValues(e)}}class RudderContext{constructor(){this.rl_app=null;this.rl_traits=null;this.rl_library=null;var e=new RudderOSInfo;e.rl_version="";var r=new RudderScreenInfo;typeof window==='undefined'?(r.rl_width=0,r.rl_height=0,r.rl_density=0,e.rl_version="",e.rl_name="",this.rl_user_agent=null,this.rl_locale=null):(r.rl_width=window.width,r.rl_height=window.height,r.rl_density=window.devicePixelRatio,this.rl_user_agent=navigator.userAgent,this.rl_locale=navigator.language||navigator.browserLanguage);this.screen=r;this.rl_device=null;this.rl_network=null}}class RudderApp{constructor(){this.rl_build="";this.rl_name="";this.rl_namespace="";this.rl_version=""}}class RudderTraits{constructor(){this.rl_address=null;this.rl_age=null;this.rl_birthday=null;this.rl_company=null;this.rl_createdat=null;this.rl_description=null;this.rl_email=null;this.rl_firstname=null;this.rl_gender=null;this.rl_id=null;this.rl_lastname=null;this.rl_name=null;this.rl_phone=null;this.rl_phone=null;this.rl_title=null;this.rl_username=null}}class TraitsAddress{constructor(){this.rl_city="";this.rl_country="";this.rl_postalcode="";this.rl_state="";this.rl_street=""}}class TraitsCompany{constructor(){this.rl_name="";this.rl_id="";this.rl_industry=""}}class RudderLibraryInfo{constructor(){this.rl_name="";this.rl_version=""}}class RudderOSInfo{constructor(){this.rl_name="";this.rl_version=""}}class RudderScreenInfo{constructor(){this.rl_density=0;this.rl_width=0;this.rl_height=0}}class RudderDeviceInfo{constructor(){this.rl_id="";this.rl_manufacturer="";this.rl_model="";this.rl_name=""}}class RudderNetwork{constructor(){this.rl_carrier=""}}context=new RudderContext;context.applicationContext={};var Instance1=Analytics.getInstance(context)
